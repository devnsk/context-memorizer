# DevContext â€” Persistent AI Coding Context for Teams

> *"Git tracks your code history. DevContext tracks your intent history."*

## The Problem

You're deep in a Cursor session refactoring a payment service. You've explained the architecture, tried 3 approaches, finally found the right one. Session dies. Next morning â€” or worse, your teammate picks it up â€” and the AI has **zero memory**. You spend 15 min re-explaining everything. Every. Single. Time.

This is broken across **every** AI coding tool: Cursor, Claude Code, Copilot, Windsurf â€” none of them persist context across sessions, editors, or team members.

## The Solution

**DevContext** is a CLI tool that automatically captures and restores AI coding context, scoped to your repo and branch.

```
# Save context after a session
devctx save "Refactoring payment service to use event sourcing"

# Restore context in any editor, any machine
devctx resume

# Your teammate picks up where you left off
devctx resume --branch feature/payment-refactor
```

## How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Your Repo                      â”‚
â”‚                                                  â”‚
â”‚  .devctx/                                        â”‚
â”‚  â”œâ”€â”€ context.json          â† current branch ctx  â”‚
â”‚  â”œâ”€â”€ sessions/                                   â”‚
â”‚  â”‚   â”œâ”€â”€ 2025-02-14_1030.json  â† session logs   â”‚
â”‚  â”‚   â””â”€â”€ 2025-02-14_1445.json                    â”‚
â”‚  â””â”€â”€ branches/                                   â”‚
â”‚      â”œâ”€â”€ main.json                               â”‚
â”‚      â””â”€â”€ feature/payment-refactor.json           â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

DevContext stores a `.devctx/` folder in your repo (gitignored or committed â€” your choice). Each context entry captures:

- **What** you were working on (task description)
- **Why** (the goal / ticket reference)
- **What you tried** (approaches, failures, learnings)
- **Where you left off** (current state, next steps)
- **Key decisions** (architectural choices and reasoning)
- **Relevant files** (auto-detected from git diff)

## Core Commands (MVP)

### `devctx init`
Initialize DevContext in a repo. Creates `.devctx/` folder.

```bash
$ devctx init
âœ“ Initialized DevContext in /Users/sukhad/projects/payment-service
âœ“ Added .devctx/ to .gitignore
```

### `devctx save [message]`
Save current context. Auto-detects branch, changed files, and timestamps.

```bash
$ devctx save "Migrating from REST to gRPC for internal services"

# Interactive mode (no message = prompts you)
$ devctx save
? What were you working on? Migrating from REST to gRPC
? What approaches did you try? Started with protobuf-first, hit issues with streaming
? Where did you leave off? Got unary calls working, need to handle bidirectional streaming
? Key decisions made? Using buf for proto management instead of raw protoc
âœ“ Context saved to .devctx/sessions/2025-02-14_1030.json
```

### `devctx resume`
Generate a context prompt you can paste into any AI tool. This is the magic.

```bash
$ devctx resume
ğŸ“‹ Context copied to clipboard!

# Or output to stdout
$ devctx resume --stdout

# Resume a specific branch
$ devctx resume --branch feature/grpc-migration
```

**Output looks like:**
```
## Project Context (auto-generated by DevContext)

**Repo:** payment-service
**Branch:** feature/grpc-migration
**Last session:** 2 hours ago

### Current Task
Migrating internal service communication from REST to gRPC.

### What's Been Tried
- Started with protobuf-first approach
- Hit issues with streaming endpoints
- Unary calls are working

### Key Decisions
- Using buf for proto management instead of raw protoc
- Keeping REST for external APIs, gRPC for internal only

### Current State
Unary calls working. Need to implement bidirectional streaming for the event feed.

### Files Changed Recently
- src/proto/payment.proto (new)
- src/services/payment_grpc.go (new)
- src/services/payment_rest.go (modified)
- src/config/grpc.go (new)

### Next Steps
1. Implement bidirectional streaming for event feed
2. Add gRPC interceptors for auth
3. Update service discovery to support gRPC endpoints
```

### `devctx log`
View context history for the current branch.

```bash
$ devctx log
Branch: feature/grpc-migration

[2025-02-14 14:45] Implemented auth interceptors for gRPC
[2025-02-14 10:30] Got unary calls working, moving to streaming
[2025-02-13 16:00] Initial protobuf definitions and buf setup

$ devctx log --all  # All branches
```

### `devctx diff`
Show what changed between context saves (useful for handoffs).

```bash
$ devctx diff
Since last save (2 hours ago):
  + 3 new files created
  ~ 2 files modified
  Decision added: "Using buf for proto management"
  Next step completed: "Set up basic protobuf definitions"
```

## Data Model

```typescript
interface ContextEntry {
  id: string;                    // uuid
  timestamp: string;             // ISO 8601
  branch: string;                // git branch name
  repo: string;                  // repo name
  author: string;                // git user.name

  // Core context
  task: string;                  // What you're working on
  goal?: string;                 // Why (ticket/issue link)
  approaches: string[];          // What you tried
  decisions: string[];           // Key decisions + reasoning
  currentState: string;          // Where things stand
  nextSteps: string[];           // What comes next
  blockers?: string[];           // What's blocking progress

  // Auto-captured
  filesChanged: string[];        // From git diff
  filesStaged: string[];         // From git status
  recentCommits: string[];       // Last 5 commit messages

  // Team
  assignee?: string;             // Who's working on this
  handoffNote?: string;          // Note for next person
}
```

## Tech Stack (Weekend MVP)

- **Language:** TypeScript (npm package, easy distribution)
- **Storage:** JSON files in `.devctx/` (no external deps)
- **Git integration:** `simple-git` npm package
- **CLI framework:** `commander` or `yargs`
- **Clipboard:** `clipboardy`
- **Prompts:** `inquirer` for interactive mode

## Architecture

```
devctx (CLI entry)
â”œâ”€â”€ commands/
â”‚   â”œâ”€â”€ init.ts        â†’ Create .devctx/ folder
â”‚   â”œâ”€â”€ save.ts        â†’ Capture context (interactive + one-liner)
â”‚   â”œâ”€â”€ resume.ts      â†’ Generate context prompt
â”‚   â”œâ”€â”€ log.ts         â†’ View history
â”‚   â””â”€â”€ diff.ts        â†’ Compare context snapshots
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ git.ts         â†’ Git operations (branch, diff, status, log)
â”‚   â”œâ”€â”€ context.ts     â†’ Read/write context JSON files
â”‚   â””â”€â”€ prompt.ts      â†’ Format context into AI-ready prompt
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ clipboard.ts   â†’ Copy to clipboard
â”‚   â””â”€â”€ config.ts      â†’ User preferences
â””â”€â”€ index.ts           â†’ CLI setup with commander
```

## Weekend MVP Scope

### Day 1 (Saturday) â€” Core Flow
- [ ] Project setup (TS, commander, build config)
- [ ] `devctx init` â€” create .devctx folder, gitignore
- [ ] `devctx save` â€” interactive + message mode
- [ ] `devctx resume` â€” generate prompt, copy to clipboard
- [ ] Git integration â€” auto-detect branch, changed files, recent commits

### Day 2 (Sunday) â€” Polish + Ship
- [ ] `devctx log` â€” view history
- [ ] `devctx resume --branch` â€” cross-branch resume
- [ ] Prompt template optimization (test with Cursor + Claude Code)
- [ ] npm publish
- [ ] README with demo GIF
- [ ] Post on X/LinkedIn/Instagram

## Post-MVP Roadmap

### v0.2 â€” Team Features
- `devctx handoff @teammate "Here's where I left off"`
- Shared context via git (commit .devctx/ to repo)
- Conflict resolution for simultaneous context saves

### v0.3 â€” Auto-Capture
- Watch mode: auto-save context periodically
- Hook into git commits to auto-snapshot context
- Parse AI chat logs from Cursor/Claude Code for auto-extraction

### v0.4 â€” AI-Powered
- Auto-summarize session from git diff + commit messages
- Smart context compression (keep only relevant info)
- Suggest next steps based on codebase analysis

### v0.5 â€” Editor Integration
- VS Code extension (auto-resume on open)
- Cursor integration
- Claude Code MCP server (native context loading)
